<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bahaa Store</title>
  <style>
    body {font-family: Arial, sans-serif; margin:0; padding:0; background:#0d1117; color:#fff;}
    header {background:#0a1a2f; color:#00aaff; padding:15px; text-align:center; font-size:22px; font-weight:bold;}
    nav {background:#0a1a2f; display:flex; justify-content:center; padding:10px; position:sticky; top:0; z-index:1000;}
    nav a {color:#fff; text-decoration:none; margin:0 15px; padding:6px 12px; border-radius:6px;}
    nav a:hover {background:#00aaff; color:#fff;}
    .container {padding:20px;}
    h2 {color:#00aaff;}
    button {padding:8px 14px; border:none; border-radius:6px; cursor:pointer; background:#00aaff; color:white; margin:5px 0;}
    input {padding:8px; margin:6px 0; border:none; border-radius:6px; width:90%;}
    .card {background:#101820; border:1px solid #0a1a2f; border-radius:10px; padding:12px; margin:10px; display:inline-block; width:200px; vertical-align:top; text-align:center;}
    .card img {width:100%; height:120px; object-fit:cover; border-radius:8px;}
    .status-btn {margin:3px; padding:5px 10px; border-radius:5px;}
    .accept {background:green;}
    .reject {background:red;}
    .confirm {background:blue;}
    .chat-box {background:#0a1a2f; padding:10px; border-radius:10px; margin-top:8px; max-height:150px; overflow-y:auto; font-size:14px;}
    .admin-msg {color:#00ffea;}
    .user-msg {color:#ffce54;}
    #loginDiv,#registerDiv,#productsDiv,#cartDiv,#ordersDiv,#adminDiv,#contactDiv {display:none;}
  </style>
</head>
<body>
<header>ğŸ’ Bahaa Store - Ù…Ù†ØªØ¬Ø§Øª Ø±Ù‚Ù…ÙŠØ©</header>
<nav>
  <a href="#" onclick="showSection('authDiv')">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
  <a href="#" onclick="showSection('productsDiv')">ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a>
  <a href="#" onclick="showSection('ordersDiv')">ğŸ›’ Ø·Ù„Ø¨Ø§ØªÙŠ</a>
  <a href="#" onclick="showSection('contactDiv')">ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
</nav>

<div class="container">
  <!-- ØªØ³Ø¬ÙŠÙ„ -->
  <div id="authDiv">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
    <button onclick="showRegister()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
    <button onclick="showLogin()">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„</button>
  </div>

  <div id="registerDiv">
    <h3>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h3>
    <input type="text" id="regUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"><br>
    <input type="password" id="regPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"><br>
    <button onclick="register()">ØªØ³Ø¬ÙŠÙ„</button>
  </div>

  <div id="loginDiv">
    <h3>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h3>
    <input type="text" id="logUser" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"><br>
    <input type="password" id="logPass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"><br>
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
  </div>

  <!-- Ù…Ù†ØªØ¬Ø§Øª -->
  <div id="productsDiv">
    <h2>ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</h2>
    <div id="productsContainer"></div>
  </div>

  <!-- Ø§Ù„Ø·Ù„Ø¨ -->
  <div id="cartDiv">
    <h3>Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</h3>
    <p>Ø§Ù„Ù…Ù†ØªØ¬: <span id="cartProduct"></span></p>
    <p>Ø§Ù„Ø³Ø¹Ø±: <span id="cartPrice"></span> USDT</p>
    <p>Ø·Ø±Ù‚ Ø§Ù„Ø¯ÙØ¹:</p>
    <p>ğŸ’³ Binance Pay ID: <b id="binanceID">782102873</b> <button onclick="copyPayID('binance')">Ù†Ø³Ø®</button></p>
    <p>ğŸ’³ Payeer ID: <b id="payeerID">P1112102994</b> <button onclick="copyPayID('payeer')">Ù†Ø³Ø®</button></p>
    <button onclick="placeOrder()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨</button>
  </div>

  <!-- Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø²Ø¨ÙˆÙ† -->
  <div id="ordersDiv">
    <h2>Ø·Ù„Ø¨Ø§ØªÙŠ</h2>
    <div id="customerOrders"></div>
    <h3>ğŸ’¬ Ø¯Ø±Ø¯Ø´Ø© Ù…Ø¹ Ø§Ù„Ù…Ø¯ÙŠØ±</h3>
    <div class="chat-box" id="chatBox"></div>
    <input type="text" id="chatInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©...">
    <button onclick="sendUserMessage()">Ø¥Ø±Ø³Ø§Ù„</button>
  </div>

  <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ± -->
  <div id="adminDiv">
    <h2>ğŸ“‹ Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¯ÙŠØ±</h2>
    <div id="adminOrdersList"></div>
  </div>

  <!-- ØªÙˆØ§ØµÙ„ -->
  <div id="contactDiv">
    <h2>ğŸ“ ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h2>
    <p>ğŸ“§ Ø§Ù„Ø¨Ø±ÙŠØ¯: bahaa.store@example.com</p>
    <p>ğŸ’¬ ÙˆØ§ØªØ³Ø§Ø¨: <a href="https://wa.me/213000000000" target="_blank">Ø§Ø¶ØºØ· Ù‡Ù†Ø§</a></p>
  </div>
</div>

<script>
const products=[
  {name:"ğŸ“˜ ÙƒØªØ§Ø¨ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø°Ø§Øª", price:10, img:"https://picsum.photos/200/120?1"},
  {name:"ğŸ’» ÙƒÙˆØ±Ø³ Ø¨Ø±Ù…Ø¬Ø©", price:25, img:"https://picsum.photos/200/120?2"},
  {name:"ğŸ¨ Ø¯ÙˆØ±Ø© ØªØµÙ…ÙŠÙ…", price:15, img:"https://picsum.photos/200/120?3"},
  {name:"ğŸ“± ØªØ·Ø¨ÙŠÙ‚ Ø¬Ø§Ù‡Ø²", price:30, img:"https://picsum.photos/200/120?4"},
  {name:"ğŸ“Š ÙƒÙˆØ±Ø³ ØªØ³ÙˆÙŠÙ‚", price:20, img:"https://picsum.photos/200/120?5"}
];

// Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
function showSection(id){
  ["authDiv","registerDiv","loginDiv","productsDiv","cartDiv","ordersDiv","adminDiv","contactDiv"]
    .forEach(s=>document.getElementById(s).style.display='none');
  document.getElementById(id).style.display='block';
}

// ØªØ³Ø¬ÙŠÙ„
function showRegister(){showSection('registerDiv');}
function showLogin(){showSection('loginDiv');}
function register(){
  let u=document.getElementById('regUser').value;
  let p=document.getElementById('regPass').value;
  if(!u||!p) return alert("Ø§Ù…Ù„Ø£ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø§Ù†Ø§Øª");
  let users=JSON.parse(localStorage.getItem('bahaaUsers')||'{}');
  if(users[u]) return alert("Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯");
  users[u]=p;localStorage.setItem('bahaaUsers',JSON.stringify(users));
  alert("ØªÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ØŒ Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¢Ù†");
}
function login(){
  let u=document.getElementById('logUser').value;
  let p=document.getElementById('logPass').value;
  let users=JSON.parse(localStorage.getItem('bahaaUsers')||'{}');
  if(u==="admin" && p==="admin123"){localStorage.setItem('isAdmin','true');showSection('adminDiv');renderAdminOrders();}
  else if(users[u]===p){localStorage.setItem('bahaaCurrentUser',u);showSection('productsDiv');renderProducts();renderCustomerOrders();}
  else alert("Ø¨ÙŠØ§Ù†Ø§Øª Ø®Ø§Ø·Ø¦Ø©");
}

// Ù…Ù†ØªØ¬Ø§Øª
function renderProducts(){
  const container=document.getElementById('productsContainer');container.innerHTML='';
  products.forEach((p,i)=>{
    container.innerHTML+=`<div class="card"><img src="${p.img}"><h3>${p.name}</h3><p>${p.price} USDT</p><button onclick="selectProduct(${i})">Ø´Ø±Ø§Ø¡</button></div>`;
  });
}
function selectProduct(i){
  let prod=products[i];
  showSection('cartDiv');
  document.getElementById('cartProduct').innerText=prod.name;
  document.getElementById('cartPrice').innerText=prod.price;
  localStorage.setItem('bahaaSelectedProduct',JSON.stringify(prod));
}

// Ø¯ÙØ¹
function copyPayID(m){
  let id=(m==='binance')?document.getElementById('binanceID').innerText:document.getElementById('payeerID').innerText;
  navigator.clipboard.writeText(id);alert("ØªÙ… Ù†Ø³Ø®: "+id);
}

// Ø·Ù„Ø¨
function placeOrder(){
  const user=localStorage.getItem('bahaaCurrentUser');
  const prod=JSON.parse(localStorage.getItem('bahaaSelectedProduct')||'{}');
  if(!prod.name) return alert("Ø§Ø®ØªØ± Ù…Ù†ØªØ¬");
  let orders=JSON.parse(localStorage.getItem('bahaaOrders')||'[]');
  orders.push({user:user,product:prod.name,price:prod.price,status:"ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±",chat:["Bahaa Store: ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø·Ù„Ø¨"]});
  localStorage.setItem('bahaaOrders',JSON.stringify(orders));
  showSection('ordersDiv');renderCustomerOrders();updateChatBox();
}

// Ø¯Ø±Ø¯Ø´Ø©
function sendUserMessage(){
  let msg=document.getElementById('chatInput').value.trim();if(!msg) return;
  let user=localStorage.getItem('bahaaCurrentUser');
  let orders=JSON.parse(localStorage.getItem('bahaaOrders')||'[]');
  for(let i=orders.length-1;i>=0;i--){if(orders[i].user===user){orders[i].chat.push(user+": "+msg);break;}}
  localStorage.setItem('bahaaOrders',JSON.stringify(orders));
  document.getElementById('chatInput').value='';updateChatBox();
}
function updateChatBox(){
  let user=localStorage.getItem('bahaaCurrentUser');
  let orders=JSON.parse(localStorage.getItem('bahaaOrders')||'[]');
  let div=document.getElementById('chatBox');div.innerHTML='';
  for(let i=orders.length-1;i>=0;i--){if(orders[i].user===user){orders[i].chat.forEach(m=>{let cls=m.startsWith("Bahaa")?"admin-msg":"user-msg";div.innerHTML+=`<div class="${cls}">${m}</div>`;});break;}}
}
function renderCustomerOrders(){
  const div=document.getElementById('customerOrders');div.innerHTML='';
  let user=localStorage.getItem('bahaaCurrentUser');
  let orders=JSON.parse(localStorage.getItem('bahaaOrders')||'[]');
  orders.filter(o=>o.user===user).forEach(o=>{
    div.innerHTML+=`<div class="card"><p>ğŸ“¦ ${o.product}</p><p>ğŸ’° ${o.price} USDT</p><p>ğŸ“Œ ${o.status}</p></div>`;
  });
}

// Ù…Ø¯ÙŠØ±
function changeStatus(i,s){
  let orders=JSON.parse(localStorage.getItem('bahaaOrders')||'[]');
  orders[i].status=s;orders[i].chat.push("Bahaa Store: Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¢Ù† "+s);
  localStorage.setItem('bahaaOrders',JSON.stringify(orders));renderAdminOrders();
}
function sendAdminMessage(i){
  const msg=document.getElementById('adminInput'+i).value.trim();if(!msg) return;
  let orders=JSON.parse(localStorage.getItem('bahaaOrders')||'[]');
  orders[i].chat.push("Bahaa Store: "+msg);
  localStorage.setItem('bahaaOrders',JSON.stringify(orders));
  document.getElementById('adminInput'+i).value='';renderAdminOrders();
}
function renderAdminOrders(){
  const div=document.getElementById('adminOrdersList');div.innerHTML='';
  let orders=JSON.parse(localStorage.getItem('bahaaOrders')||'[]');
  orders.forEach((o,i)=>{
    let chatHtml=o.chat.map(m=>{let cls=m.startsWith("Bahaa")?"admin-msg":"user-msg";return `<div class="${cls}">${m}</div>`;}).join('');
    div.innerHTML+=`<div class="card" style="width:95%;"><p>ğŸ‘¤ ${o.user} | ğŸ“¦ ${o.product} | ğŸ’° ${o.price} USDT</p><p>ğŸ“Œ ${o.status}</p>
      <button class="status-btn accept" onclick="changeStatus(${i},'Ù…Ø¯ÙÙˆØ¹')">Ù…Ø¯ÙÙˆØ¹</button>
      <button class="status-btn reject" onclick="changeStatus(${i},'Ù…Ø±ÙÙˆØ¶')">Ù…Ø±ÙÙˆØ¶</button>
      <button class="status-btn confirm" onclick="changeStatus(${i},'Ù…ÙƒØªÙ…Ù„')">Ù…ÙƒØªÙ…Ù„</button>
      <div class="chat-box">${chatHtml}</div>
      <input type="text" id="adminInput${i}" placeholder="Ø±Ø³Ø§Ù„Ø© Ù„Ù„Ø²Ø¨ÙˆÙ†">
      <button onclick="sendAdminMessage(${i})">Ø¥Ø±Ø³Ø§Ù„</button></div>`;
  });
}
</script>
</body>
</html>
