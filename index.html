<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fast10 - موقع الرشق والشحن</title>
<style>
body {font-family: Arial,sans-serif;margin:0;padding:0;background:linear-gradient(135deg,#0d1117,#0d2538);color:#fff;}
header {background:#161b22;padding:15px;text-align:center;}
header h1 {color:#00aaff;margin:0;}
nav a {color:#fff;margin:0 10px;text-decoration:none;cursor:pointer;}
.container {max-width:400px;margin:20px auto;padding:15px;background:#161b22;border-radius:12px;}
h2 {color:#00aaff;text-align:center;}
input,select,button {width:100%;padding:10px;margin:8px 0;border:none;border-radius:8px;}
button {background:#00aaff;color:#fff;cursor:pointer;}
button:hover{background:#0088cc;}
.invoice,.balance{background:#161b22;padding:15px;border-radius:10px;margin-top:10px;text-align:center;}
.card{background:#161b22;padding:15px;border-radius:12px;text-align:center;margin:10px 0;}
.card button{margin:5px;width:48%;}
.card h3{color:#00aaff;}
a.whatsapp{text-align:center;display:block;margin-top:10px;color:#00ff84;text-decoration:none;font-weight:bold;}
</style>
</head>
<body>

<header>
<h1>Fast10</h1>
<nav>
<a onclick="showOrder()">الرئيسية</a>
<a onclick="showWallet()">شحن رصيد</a>
<a onclick="showCustomerOrders()">طلباتي</a>
<a onclick="showAdminOrders()">إدارة الطلبات</a>
</nav>
</header>

<!-- تسجيل حساب -->
<div class="container" id="registerDiv">
<h2>إنشاء حساب</h2>
<input type="text" id="regUser" placeholder="اسم المستخدم">
<input type="password" id="regPass" placeholder="كلمة المرور">
<button onclick="register()">تسجيل</button>
<p>لديك حساب؟ <a onclick="showLogin()">تسجيل الدخول</a></p>
</div>

<!-- تسجيل دخول -->
<div class="container" id="loginDiv" style="display:none;">
<h2>تسجيل الدخول</h2>
<input type="text" id="loginUser" placeholder="اسم المستخدم">
<input type="password" id="loginPass" placeholder="كلمة المرور">
<button onclick="login()">دخول</button>
<p>لا تملك حساب؟ <a onclick="showRegister()">إنشاء حساب</a></p>
</div>

<!-- شحن الرصيد -->
<div class="container" id="walletPage" style="display:none;">
<h2>💰 شحن رصيدك</h2>
<p class="balance">رصيدك الحالي: <span id="balance">0</span> USDT</p>
<input type="number" id="topupAmount" placeholder="المبلغ المراد شحنه" min="1">
<select id="topupMethod">
<option value="binance">Binance Pay</option>
<option value="payeer">Payeer</option>
<option value="poste">البريد</option>
</select>
<button onclick="realTopUp()">شحن الآن</button>
</div>

<!-- صفحة الطلب -->
<div class="container" id="orderPage" style="display:none;">
<h2>خدمات الرشق والإعلانات</h2>
<p class="balance">رصيدك الحالي: <span id="balanceOrder">0</span> USDT</p>

<form id="orderForm">
<input type="text" id="orderName" placeholder="اسمك الكامل" required>
<input type="email" id="orderEmail" placeholder="بريدك الإلكتروني" required>

<select id="serviceSelect" required>
  <option value="">اختر الخدمة</option>
  <option value="زيادة متابعين فيسبوك">زيادة متابعين فيسبوك</option>
  <option value="مشاهدات إنستغرام">مشاهدات إنستغرام</option>
  <option value="مشاهدات TikTok">مشاهدات TikTok</option>
  <option value="إعجابات إنستغرام">إعجابات إنستغرام</option>
  <option value="إعلانات ممولة">إعلانات ممولة</option>
  <option value="مشاهدات يوتيوب">مشاهدات يوتيوب</option>
  <option value="زيادة متابعين تيليجرام">زيادة متابعين تيليجرام</option>
</select>

<input type="number" id="quantitySelect" placeholder="ادخل عدد الرشق" min="1" required>

<div class="invoice" id="invoice" style="display:none;">
<h3>📄 فاتورتك</h3>
<p>الخدمة: <span id="invService"></span></p>
<p>العدد: <span id="invQuantity"></span></p>
<p>السعر للوحدة: <span id="invUnitPrice"></span> USDT</p>
<p>الإجمالي: <span id="invTotal"></span> USDT</p>
</div>

<div class="payment">
<h3>💳 اختر طريقة الدفع</h3>
<select id="payMethod">
<option value="binance">Binance Pay</option>
<option value="payeer">Payeer</option>
<option value="poste">البريد</option>
</select>
<p id="payID">782102873</p>
<button type="button" onclick="copyPayID()">نسخ رقم الدفع</button>
<a class="whatsapp" href="https://wa.me/213655643510" target="_blank">📲 تواصل معنا عبر واتساب</a>
</div>

<button type="submit">إرسال الطلب</button>
</form>
</div>

<!-- إدارة الطلبات -->
<div class="container" id="adminOrders" style="display:none;">
<h2>📋 إدارة الطلبات</h2>
<div id="ordersList"></div>
</div>

<!-- طلبات الزبون -->
<div class="container" id="customerOrders" style="display:none;">
<h2>📦 طلباتي</h2>
<div id="myOrdersList"></div>
</div>

<script>
// تعريف المدير
const adminUser = "admin";
const adminPass = "12345";

// تسجيل / دخول
function register(){
  const u=document.getElementById('regUser').value;
  const p=document.getElementById('regPass').value;
  if(u && p){
    localStorage.setItem('fast10User',u);
    localStorage.setItem('fast10Pass',p);
    localStorage.setItem('fast10Balance',0);
    alert('تم إنشاء الحساب! سجل الدخول الآن.');
    showLogin();
  }else alert('املأ كل الحقول');
}

function login(){
  const lu=document.getElementById('loginUser').value;
  const lp=document.getElementById('loginPass').value;

  // تسجيل دخول المدير
  if(lu===adminUser && lp===adminPass){
    localStorage.setItem('fast10User',adminUser);
    alert('تم تسجيل الدخول كمدير!');
    document.getElementById('loginDiv').style.display='none';
    document.getElementById('registerDiv').style.display='none';
    showAdminOrders();
    return;
  }

  const u=localStorage.getItem('fast10User');
  const p=localStorage.getItem('fast10Pass');

  if(lu===u && lp===p){
    alert('تم تسجيل الدخول!');
    document.getElementById('loginDiv').style.display='none';
    document.getElementById('registerDiv').style.display='none';
    showOrder();
  }else alert('بيانات غير صحيحة');
}

function showLogin(){document.getElementById('registerDiv').style.display='none';document.getElementById('loginDiv').style.display='block';}
function showRegister(){document.getElementById('loginDiv').style.display='none';document.getElementById('registerDiv').style.display='block';}
function showOrder(){document.getElementById('orderPage').style.display='block';document.getElementById('walletPage').style.display='none';document.getElementById('adminOrders').style.display='none';document.getElementById('customerOrders').style.display='none';updateBalance();}
function showWallet(){document.getElementById('walletPage').style.display='block';document.getElementById('orderPage').style.display='none';document.getElementById('adminOrders').style.display='none';document.getElementById('customerOrders').style.display='none';updateBalance();}
function showAdminOrders(){
  const currentUser = localStorage.getItem('fast10User');
  if(currentUser !== adminUser){
    alert("هذه الصفحة خاصة بالمدير فقط!");
    return;
  }
  document.getElementById('adminOrders').style.display='block';
  document.getElementById('orderPage').style.display='none';
  document.getElementById('walletPage').style.display='none';
  document.getElementById('customerOrders').style.display='none';
  renderAdminOrders();
}
function showCustomerOrders(){document.getElementById('customerOrders').style.display='block';document.getElementById('orderPage').style.display='none';document.getElementById('walletPage').style.display='none';document.getElementById('adminOrders').style.display='none';renderCustomerOrders();}

// رصيد
function updateBalance(){
  const b=parseFloat(localStorage.getItem('fast10Balance'))||0;
  document.getElementById('balance').innerText=b.toFixed(2);
  document.getElementById('balanceOrder').innerText=b.toFixed(2);
}

// شحن
function realTopUp(){
  const amt=parseFloat(document.getElementById('topupAmount').value);
  const m=document.getElementById('topupMethod').value;
  if(amt<=0)return alert('ادخل مبلغ صالح');
  if(m==='binance')window.open('https://pay.binance.com/en/pay?amount='+amt,'_blank');
  else if(m==='payeer')window.open('https://payeer.com/merchant/?amount='+amt,'_blank');
  else alert('اذهب لأقرب مكتب بريد وادفع: '+amt+' USDT');
  localStorage.setItem('fast10Balance',(parseFloat(localStorage.getItem('fast10Balance'))||0)+amt);
  updateBalance();
}

// فاتورة
const serviceSelect=document.getElementById("serviceSelect");
const quantitySelect=document.getElementById("quantitySelect");
const invoice=document.getElementById("invoice");
const invService=document.getElementById("invService");
const invQuantity=document.getElementById("invQuantity");
const invUnitPrice=document.getElementById("invUnitPrice");
const invTotal=document.getElementById("invTotal");

function updateInvoice(){
  const s=serviceSelect.value;
  const q=parseInt(quantitySelect.value)||0;
  let p=0;
  if(s==="زيادة متابعين فيسبوك") p=0.01;
  else if(s==="مشاهدات إنستغرام") p=0.008;
  else if(s==="مشاهدات TikTok") p=0.012;
  else if(s==="إعجابات إنستغرام") p=0.005;
  else if(s==="إعلانات ممولة") p=5;
  else if(s==="مشاهدات يوتيوب") p=0.02;
  else if(s==="زيادة متابعين تيليجرام") p=0.01;

  if(s&&q>0){
    invService.innerText=s;
    invQuantity.innerText=q;
    invUnitPrice.innerText=p;
    invTotal.innerText=(p*q).toFixed(2);
    invoice.style.display='block';
  }else invoice.style.display='none';
}
serviceSelect.addEventListener("change",updateInvoice);
quantitySelect.addEventListener("input",updateInvoice);

// نسخ رقم الدفع
function copyPayID(){
  navigator.clipboard.writeText(document.getElementById('payID').innerText);
  alert('تم نسخ رقم الدفع');
}

// إرسال الطلب وتخزينه
document.getElementById("orderForm").addEventListener("submit", function(e){
  e.preventDefault();
  const total=parseFloat(invTotal.innerText)||0;
  const balance=parseFloat(localStorage.getItem('fast10Balance'))||0;
  if(total > balance){
    alert("رصيدك غير كافٍ لإتمام الطلب!");
    return;
  }
  localStorage.setItem('fast10Balance',(balance-total).toFixed(2));
  updateBalance();

  const orders = JSON.parse(localStorage.getItem('fast10Orders')||'[]');
  const user = document.getElementById("orderName").value;
  orders.push({
    user: user,
    name: user,
    email: document.getElementById("orderEmail").value,
    service: serviceSelect.value,
    quantity: parseInt(quantitySelect.value)||0,
    total: total.toFixed(2),
    status: "جديد"
  });
  localStorage.setItem('fast10Orders', JSON.stringify(orders));
  alert("تم إرسال الطلب بنجاح!");
  this.reset();
  invoice.style.display='none';
});

// إدارة الطلبات
function renderAdminOrders(){
  const ordersDiv = document.getElementById('ordersList');
  ordersDiv.innerHTML='';
  const orders = JSON.parse(localStorage.getItem('fast10Orders')||'[]');

  orders.forEach((order,index)=>{
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML = `
      <p>الزبون: ${order.name}</p>
      <p>الخدمة: ${order.service}</p>
      <p>العدد: ${order.quantity}</p>
      <p>الإجمالي: ${order.total} USDT</p>
      <p>الحالة: <span id="status${index}">${order.status}</span></p>
      ${order.status==="جديد"? `<button onclick="updateOrder(${index},'مقبول')">قبول</button>
      <button onclick="updateOrder(${index},'مرفوض')">رفض</button>` : ''}
      ${order.status==="مقبول"? `<button onclick="updateOrder(${index},'مكتمل')">مكتمل</button>` : ''}
    `;
    ordersDiv.appendChild(div);
  });
}

function updateOrder(index,newStatus){
  const orders=JSON.parse(localStorage.getItem('fast10Orders')||'[]');
  orders[index].status=newStatus;
  localStorage.setItem('fast10Orders',JSON.stringify(orders));
  renderAdminOrders();

  const user = localStorage.getItem('fast10User');
  if(orders[index].user === user){
    alert(`تم تحديث حالة طلبك إلى: ${newStatus}`);
    renderCustomerOrders();
  }
}

// طلبات الزبون
function renderCustomerOrders(){
  const ordersDiv = document.getElementById('myOrdersList');
  ordersDiv.innerHTML='';
  const orders = JSON.parse(localStorage.getItem('fast10Orders')||'[]');
  const user = localStorage.getItem('fast10User');

  orders.filter(o => o.user === user).forEach((order)=>{
    const div=document.createElement('div');
    div.className='card';
    div.innerHTML = `
      <p>الخدمة: ${order.service}</p>
      <p>العدد: ${order.quantity}</p>
      <p>الإجمالي: ${order.total} USDT</p>
      <p>الحالة: ${order.status}</p>
    `;
    ordersDiv.appendChild(div);
  });
}

// تحديث تلقائي كل 5 ثواني لصفحة طلباتي
setInterval(()=>{
  const custOrdersDiv = document.getElementById('myOrdersList');
  if(custOrdersDiv && custOrdersDiv.style.display !== 'none'){
    renderCustomerOrders();
  }
},5000);

</script>

</body>
</html>
